{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/editor/editor.js","webpack:///./src/editor/toolbar.js","webpack:///./src/index.js","webpack:///./src/index.scss","webpack:///./src/plugins sync ^\\.\\/.*$","webpack:///./src/plugins/drop.js","webpack:///./src/plugins/emoji-transform-editor-plugin.js","webpack:///./src/plugins/inline-image-upload-plugin.js","webpack:///./src/plugins/registry.js","webpack:///./src/plugins/selection.js","webpack:///./src/store/editor-store.js","webpack:///./src/store/events.js","webpack:///./src/utils/dom.js","webpack:///./src/utils/editor/editor-api.js"],"names":["Editor","editorNode","config","mutationList","observer","console","log","forEach","mutation","type","data","Object","keys","registry","pluginKey","path","pl","require","push","e","node","eventsAndCbs","event","global","document","addEventListener","name","handler","dispatchEvent","methods","onChange","restoreSelection","currentSelection","window","getSelection","sel","getRangeAt","rangeCount","selection","createRange","range","removeAllRanges","addRange","select","method","args","runPlugins","_plugins","plugin","_editor","editorApi","getPlugins","_toolbar","toolbar","toolbarOptions","get","_observer","MutationObserver","_mutationOberserverCb","observe","childList","attributes","subtree","mount","events","subscribe","parentNode","createElement","classList","add","contentEditableNode","contentEditable","onInputChange","_attachEvents","options","func","status","opt","item","image","className","innerHTML","join","srcElement","dataset","callback","appendChild","editorRef","_editorNode","flag","bold","focusEditor","italic","centerAlign","justifyCenter","rightAlign","justifyRight","leftAlign","justifyLeft","attachment","utils","openUploadFile","playClick","eventListners","cb","target","files","key","file","reader","FileReader","that","onload","addCustomTag","buildAnchorTag","url","result","text","readAsDataURL","fontColor","fontColorReset","getStyle","RichTextEditor","attachShadow","mode","render","shadowRoot","editor","value","addStyle","styleTag","textContent","HTMLElement","customElements","define","err","h3","innerText","body","dropEditorPlugin","stopPropagation","preventDefault","emojiTransformEditorPlugin","dom","inlineImageUploadPlugin","dataTransfer","length","content","drop","selectionEditorPlugin","saveSelection","editorStore","topics","hOP","hasOwnProperty","topic","listener","call","index","remove","publish","info","undefined","fileInput","setAttribute","click","focusNode","focusNodeOffset","focus","saveFocusNode","focusNodeFn","focusOffset","setPosition","_resetFocusNode","componentKey","props","replacePlaceholder","insertHTML","tag","color","_ec","htmlString","html","selectInsertion","execCommand","Error"],"mappings":"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","file":"js/main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","import editorApi from \"../utils/editor/editor-api\";\nimport plugins from \"../plugins/registry\";\nimport events from \"../store/events\";\nimport toolbar from \"./toolbar\";\nimport store from \"../store/editor-store\";\nimport registry from \"../plugins/registry\";\n\nclass Editor {\n  constructor(editorNode, config) {\n    this._editor = new editorApi(editorNode);\n    this._plugins = this.getPlugins();//An array of exported modules\n    // Config for toolbar\n    this._toolbar = new toolbar(editorNode, this._editor);\n    this.toolbarOptions = this._toolbar.get();\n\n    // setup mutation observer\n    this._observer = new MutationObserver(this._mutationOberserverCb);\n    this._observer.observe(editorNode, {\n      childList: true,\n      attributes: true,\n      subtree: true //Omit or set to false to observe only changes to the parent node.\n    });\n\n    // All events are here\n    this.eventsAndCbs = [\n      { name: \"blur\", handler: \"onFocusLost\" },\n      { name: \"selectionchange\", handler: \"onSelect\", global: true },\n      { name: \"focus\", handler: \"onFocus\" },\n      { name: \"keyup\", handler: \"onKeyup\" },\n      { name: \"keydown\", handler: \"onKeydown\" },\n      { name: \"drop\", handler: \"onDrop\" },\n      { name: \"dragover\", handler: \"onDragOver\" }\n    ];\n\n    this.mount(editorNode);\n\n    events.subscribe(\"changed\", () => {\n      console.log(\"content changed\");\n    });\n\n    this.methods = {};\n    this.methods.onChange = config.onChange;\n  }\n\n  //Callled when any change applied to editorNode\n  _mutationOberserverCb = (mutationList, observer) => {\n    console.log(\"callback\", mutationList);\n    mutationList.forEach(mutation => {\n      switch (mutation.type) {\n        case \"childList\":\n          /* One or more children have been added to and/or removed\n             from the tree; see mutation.addedNodes and\n             mutation.removedNodes */\n          break;\n        case \"attributes\":\n          /* An attribute value changed on the element in\n             mutation.target; the attribute name is in\n             mutation.attributeName and its previous value is in\n             mutation.oldValue */\n          break;\n      }\n    });\n  };\n\n  mount(editorNode) {\n    const parentNode = document.createElement(\"div\");\n    parentNode.classList.add(\"parent\");\n\n    const contentEditableNode = document.createElement(\"div\");\n    contentEditableNode.classList.add(\"vanillajs-editor\");\n    contentEditableNode.contentEditable = true;\n\n    const toolbar = document.createElement(\"div\");\n    toolbar.classList.add(\"editor-toolbar\");\n\n    contentEditableNode.addEventListener(\"input\", this.onInputChange, false);\n\n    //ContentEditableNode starts to listen on every event defined in eventsAndCbs\n    this._attachEvents(contentEditableNode);\n\n    const options = [];\n    for (let func in this.toolbarOptions) {\n      if (this.toolbarOptions[func].status) {\n        const opt = this.toolbarOptions[func];\n        let item = opt.name;//item = \"B\", \"I\", \"RA\", etc.\n\n        if (opt.image) {\n          item = `<img src=\"${opt.image}\" data-name=\"${func}\" class=\"${\n            opt.className\n          }\" alt=\"${opt.name}\"/>`;\n        }\n        options.push(`<li data-name=\"${func}\">${item}</li>`);\n      }\n    }\n    toolbar.innerHTML = `<ul style=\"list-style:none\">\n      ${options.join(\"\")}\n    </ul>\n    `;\n\n    toolbar.addEventListener(\n      \"focusout\",\n      event => {\n        console.log(\"clicked blur\", event.srcElement.dataset.name);\n      },\n      false\n    );\n\n    //@TODO remove these events when editor removed from code to stop leakage of memory\n    toolbar.addEventListener(\n      \"click\",\n      event => {\n        //console.log (\"clicked \", event.srcElement.dataset.name);\n        this.toolbarOptions[event.srcElement.dataset.name].callback();\n      },\n      false\n    );\n    parentNode.appendChild(toolbar);\n\n    parentNode.appendChild(contentEditableNode);\n\n    editorNode.appendChild(parentNode);\n  }\n\n  getPlugins = () => {\n    const data = [];\n    Object.keys(registry).forEach(function(pluginKey) {\n      const path = registry[pluginKey];\n      console.log(pluginKey, path);\n\n      try {\n        const pl = require(`../plugins/${path}`).default;\n        if (pl) {\n          data.push(pl);\n        }\n      } catch (e) {\n        // handle error here\n        console.log(e);\n      }\n    });\n    console.log(data, \"data......\");\n    return data;\n  };\n\n  _attachEvents = node => {\n    this.eventsAndCbs.forEach(event => {\n      if (event.global) {\n        document.addEventListener(event.name, this[event.handler], false);\n      } else {\n        node.addEventListener(event.name, this[event.handler], false);\n      }\n    });\n  };\n\n  /**\n   * input event is fired when something in an input\n   * or textarea element has changes and it's also fired\n   *  when something has changed in elements with\n   *  contenteditable attribute. Perfect!} value\n   */\n  onInputChange = event => {\n    // run plugins\n    this.dispatchEvent(\"onContentChanged\", event);\n    // call props method\n    this.methods.onChange(event);\n  };\n\n  onFocusLost = e => {\n    this.dispatchEvent(\"onFocusLost\");\n  };\n\n  onFocus = () => {\n    this.restoreSelection(this.currentSelection);\n  };\n\n  onSelect = () => {\n    // implement it\n  };\n\n  onDrop = e => {\n    this.dispatchEvent(\"onDrop\", { event: e });\n  };\n\n  onDragOver = e => {\n    this.dispatchEvent(\"onDragOver\", { event: e });\n  };\n  // move to selection plugin\n  saveSelection = () => {\n    if (window.getSelection) {\n      var sel = window.getSelection();\n      if (sel.getRangeAt && sel.rangeCount) {\n        return sel.getRangeAt(0);\n      }\n    } else if (document.selection && document.selection.createRange) {\n      return document.selection.createRange();\n    }\n    return null;\n  };\n\n  // move to selection plugin\n  restoreSelection = range => {\n    if (range) {\n      if (window.getSelection) {\n        var sel = window.getSelection();\n        sel.removeAllRanges();\n        sel.addRange(range);\n      } else if (document.selection && range.select) {\n        range.select();\n      }\n    }\n  };\n\n  dispatchEvent = (method, args) => {\n    this.runPlugins(method, args);\n  };\n\n  // It will run fired methods on all plugins if method exist on them\n  runPlugins = (method, args) => {\n    this._plugins.forEach(plugin => {\n      if (plugin[method]) {\n        plugin[method](this, args);\n      }\n    });\n  };\n}\n\nexport default Editor;\n","import utils from \"../utils/dom\";\n\nclass toolbar {\n  constructor(node, editorRef) {\n    this._editorNode = node;\n    this._editor = editorRef;\n    this.flag = false;\n  }\n  get() {\n    return {\n      bold: {\n        status: true,\n        image: \"assets/icons/bold.svg\",\n        className: \"toolbar-icons\",\n        name: \"B\",\n        callback: () => {\n          this._editor.bold();\n          this._editor.focusEditor();\n        }\n      },\n\n      italic: {\n        status: true,\n        image: \"assets/icons/italic.svg\",\n        name: \"I\",\n        className: \"toolbar-icons\",\n        callback: () => {\n          this._editor.italic();\n          this._editor.removeAllRanges();\n          this._editor.focusEditor();\n        }\n      },\n\n      centerAlign: {\n        status: true,\n        image: \"assets/icons/center-align.png\",\n        className: \"toolbar-icons\",\n        name: \"CA\",\n        callback: () => {\n          this._editor.justifyCenter();\n          this._editor.focusEditor();\n        }\n      },\n      rightAlign: {\n        status: true,\n        image: \"assets/icons/right-align.svg\",\n        className: \"toolbar-icons\",\n        name: \"RA\",\n        callback: () => {\n          this._editor.justifyRight();\n          this._editor.focusEditor();\n        }\n      },\n      leftAlign: {\n        status: true,\n        image: \"assets/icons/left-align.svg\",\n        className: \"toolbar-icons\",\n        name: \"LA\",\n        callback: () => {\n          this._editor.justifyLeft();\n          this._editor.focusEditor();\n        }\n      },\n      attachment: {\n        status: true,\n        image: \"assets/icons/attachment.svg\",\n        className: \"toolbar-icons\",\n        name: \"AT\",\n        callback: () => {\n          utils.openUploadFile({\n            playClick: true,\n            eventListners: [{\n              name: 'change',\n              cb: (event) => {\n                Object.keys(event.target.files).forEach((key) => {\n                  const file = event.target.files[key];\n                  var reader = new FileReader();\n                  const that = this;\n                  reader.onload = (e) => {\n                    //insert images here\n                    console.log(that);\n                    that._editor.addCustomTag(\n                      utils.buildAnchorTag({\n                        url: e.target.result,\n                        text: file.name\n                      })\n                    );\n                  };\n                  reader.readAsDataURL(file);\n                })\n              }\n            }]\n          });\n          this._editor.focusEditor();\n        }\n      },\n\n      fontColor: {\n        status: true,\n        image: \"\",\n        name: \"FC\",\n        callback: () => {\n          if(!this.flag){\n            this._editor.fontColor();\n            this._editor.focusEditor();\n            this.flag = true;\n          }\n          else{\n            this._editor.fontColorReset();\n            this._editor.focusEditor();\n            this.flag = false;\n          } \n        }\n      }\n    };\n  }\n}\n\nexport default toolbar;\n","import Editor from \"./editor/editor\";\nimport \"./index.scss\";\n\nconst getStyle = () => {\n  return `\n    .vanillajs-editor {\n      line-height: 1.58;\n      padding: 12px;\n    }\n    .vanillajs-editor div {\n      margin: 4px 0px;\n    }\n    .vanillajs-editor:focus {\n      outline: 0px solid #ffcece;\n    }\n    .vanillajs-editor img {\n      max-width: 50%;\n    }\n    .parent {\n      border: 0.1px solid #dcdbdb;\n      padding: 4px;\n    }\n    .editor-toolbar ul {\n      margin: 0px;\n      padding: 0px;\n      display: flex;\n    }\n    .editor-toolbar ul li {\n      padding: 4px;\n      width: 24px;\n      height: 24px;\n    }\n    .editor-toolbar ul li:hover {\n      cursor: pointer;\n      border: 1px solid grey;\n    }\n    .editor-toolbar .toolbar-icons {\n      width: 20px;\n      height: 20px;\n    }\n  `\n}\n\n\nclass RichTextEditor extends HTMLElement {\n  connectedCallback() {\n    this.attachShadow({ mode: 'open' });\n    this.render();\n  }\n\n  render () {\n    const node = document.createElement('div');\n    this.shadowRoot.appendChild(node);\n    const editor = new Editor(node, {\n      onChange: function(value) {\n        //console.log(value);\n      }\n    });\n    this.addStyle();\n  }\n\n  addStyle() {\n    const styleTag = document.createElement('style');\n    styleTag.textContent = getStyle();\n    this.shadowRoot.appendChild(styleTag);\n  }\n}\n\ntry {\n  customElements.define('rich-text-editor', RichTextEditor)\n} catch (err) {\n  const h3 = document.createElement('h3')\n  h3.innerText = \"This site uses webcomponents which don't work in all browsers! Try this site in a browser that supports them!\"\n  document.body.appendChild(h3)\n}","// removed by extract-text-webpack-plugin","var map = {\n\t\"./drop\": \"./src/plugins/drop.js\",\n\t\"./drop.js\": \"./src/plugins/drop.js\",\n\t\"./emoji-transform-editor-plugin\": \"./src/plugins/emoji-transform-editor-plugin.js\",\n\t\"./emoji-transform-editor-plugin.js\": \"./src/plugins/emoji-transform-editor-plugin.js\",\n\t\"./inline-image-upload-plugin\": \"./src/plugins/inline-image-upload-plugin.js\",\n\t\"./inline-image-upload-plugin.js\": \"./src/plugins/inline-image-upload-plugin.js\",\n\t\"./registry\": \"./src/plugins/registry.js\",\n\t\"./registry.js\": \"./src/plugins/registry.js\",\n\t\"./selection\": \"./src/plugins/selection.js\",\n\t\"./selection.js\": \"./src/plugins/selection.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./src/plugins sync recursive ^\\\\.\\\\/.*$\";","class dropEditorPlugin {\n  static onDrop(editor, data = {}) {\n    //kill any default behavior\n    data.event.stopPropagation();\n    data.event.preventDefault();\n    // const files = data.event.dataTransfer.files;\n    // // name, size, type inside of files\n    // console.log(files);\n  }\n\n  static onDragOver() {\n    //console.log(\"drag over\");\n  }\n}\n\nexport default dropEditorPlugin;\n","import editor from \"../editor/editor\";\n\nclass emojiTransformEditorPlugin extends editor {\n  static transformToEmojis(editor, args) {\n    // transform here\n  }\n\n  onContentChanged(editor, event) {\n    // do here\n  }\n}\n\nexport default emojiTransformEditorPlugin;\n","import dom from \"../utils/dom\";\nconsole.log(dom);\nclass inlineImageUploadPlugin {\n  static onDrop(editor, data = {}) {\n    //kill any default behavior\n    data.event.stopPropagation();\n    data.event.preventDefault();\n    const files = data.event.dataTransfer.files;\n\n    // name, size, type inside of files\n    console.log(files);\n    if (files.length === 0) {\n      return;\n    }\n\n    console.log(files[0].content);\n    var reader = new FileReader();\n    reader.onload = function(e) {\n      editor._editor.addCustomTag(\n        dom.buildAnchorTag({\n          url: e.target.result,\n          text: files[0].name\n        })\n      );\n    };\n\n    reader.readAsDataURL(files[0]);\n  }\n\n  static onDragOver() {\n    //buildAnchorTag();\n    //console.log(\"drag over\");\n  }\n}\n\nexport default inlineImageUploadPlugin;\n","export default {\n  emojiTransformEditorPlugin: \"emoji-transform-editor-plugin\",\n  selection: \"selection\",\n  drop: \"drop\",\n  inlineImageUploadPlugin: \"inline-image-upload-plugin\"\n};\n","class selectionEditorPlugin {\n  static onFocusLost(editor, data = {}) {\n    const currentSelection = editor.saveSelection();\n    editor.restoreSelection(currentSelection);\n    // then, you loose focus\n  }\n}\n\nexport default selectionEditorPlugin;\n","class editorStore {\n  constructor() {}\n}\n","const events = (function(){\n  var topics = {};\n  var hOP = topics.hasOwnProperty;\n\n  return {\n    subscribe: function(topic, listener) {\n      // Create the topic's object if not yet created\n      if(!hOP.call(topics, topic)) topics[topic] = [];\n\n      // Add the listener to queue\n      var index = topics[topic].push(listener) -1;\n\n      // Provide handle back for removal of topic\n      return {\n        remove: function() {\n          delete topics[topic][index];\n        }\n      };\n    },\n    publish: function(topic, info) {\n      // If the topic doesn't exist, or there's no listeners in queue, just leave\n      if(!hOP.call(topics, topic)) return;\n\n      // Cycle through topics queue, fire!\n      topics[topic].forEach(function(item) {\n      \t\titem(info != undefined ? info : {});\n      });\n    }\n  };\n})();\n\nexport default events;","const buildAnchorTag = function(data) {\n  const { url, text = \"\", target = \"\" } = data;\n\n  return `<img src='${url}' alt=\"${text}\"></img>`;\n};\n\n//@todo write config here\nconst openUploadFile = function (config) {\n  const fileInput = document.createElement('input');\n  fileInput.setAttribute('type', 'file');\n  \n  config.eventListners.forEach((event) => {\n    fileInput.addEventListener(event.name, event.cb,false);\n  });\n\n  // it clicks on file\n  if (config.playClick) {\n    fileInput.click();\n  }\n  \n}\n\nexport default {\n  buildAnchorTag,\n  openUploadFile\n};\n","class editorApi {\n  constructor(node) {\n    this.editorNode = node;\n    this.focusNode = null;\n    this.focusNodeOffset = 0;\n  }\n\n  focusEditor() {\n    this.editorNode.focus();\n  }\n\n  removeAllRanges() {\n    this.saveFocusNode();\n    document.getSelection().removeAllRanges();\n    this.focusNodeFn();\n  }\n\n  saveFocusNode() {\n    const node = document.getSelection();\n    this.focusNode = node.focusNode;\n    this.focusNodeOffset = node.focusOffset;\n  }\n\n  getSelection() {\n    return document.getSelection();\n  }\n\n  focusNodeFn() {\n    this.getSelection().setPosition(this.focusNode, this.focusNodeOffset);\n    this._resetFocusNode();\n  }\n\n  _resetFocusNode() {\n    this.focusNode = null;\n    this.focusNodeOffset = 0;\n  }\n\n  insertCustomTag(componentKey, props = {}) {\n    const replacePlaceholder = props.replacePlaceholder || false;\n    this.insertHTML(props.tag);\n  }\n\n  backColor(color) {\n    this._ec(\"backColor\", false, color);\n  }\n\n  bold() {\n    this._ec(\"bold\", false, null);\n  }\n\n  addCustomTag(htmlString) {\n    this._ec(\"insertHTML\", false, htmlString);\n  }\n  // copy: -> @_ec(\"copy\", false)\n  // createLink: (uri) -> @_ec(\"createLink\", false, uri)\n  // cut: -> @_ec(\"cut\", false)\n  // decreaseFontSize: -> @_ec(\"decreaseFontSize\", false)\n  // delete: -> @_ec(\"delete\", false)\n  // fontName: (fontName) -> @_ec(\"fontName\", false, fontName)\n  // fontSize: (fontSize) -> @_ec(\"fontSize\", false, fontSize)\n  // foreColor: (color) -> @_ec(\"foreColor\", false, color)\n  // formatBlock: (tagName) -> @_ec(\"formatBlock\", false, tagName)\n  // forwardDelete: -> @_ec(\"forwardDelete\", false)\n  //heading: (tagName) -> @_ec(\"heading\", false, tagName)\n  // hiliteColor: (color) -> @_ec(\"hiliteColor\", false, color)\n  // increaseFontSize: -> @_ec(\"increaseFontSize\", false)\n  // indent: -> @_ec(\"indent\", false)\n  // insertHorizontalRule: -> @_ec(\"insertHorizontalRule\", false)\n\n  insertHTML(html, { selectInsertion } = {}) {\n    this._ec(\"insertHTML\", false, html);\n  }\n\n  // insertImage: (uri) -> @_ec(\"insertImage\", false, uri)\n  // insertOrderedList: -> @_ec(\"insertOrderedList\", false)\n  // insertUnorderedList: -> @_ec(\"insertUnorderedList\", false)\n  // insertParagraph: -> @_ec(\"insertParagraph\", false)\n  // insertText: (text) -> @_ec(\"insertText\", false, text)\n\n  italic() {\n    this._ec(\"italic\", false);\n  }\n  \n  // justifyCenter: -> @_ec(\"justifyCenter\", false)\n  // justifyFull: -> @_ec(\"justifyFull\", false)\n  justifyLeft() {\n    this._ec(\"justifyLeft\", false);\n  }\n  justifyRight() {\n    this._ec(\"justifyRight\", false);\n  }\n  justifyCenter() {\n    this._ec(\"justifyCenter\", false);\n  }\n  fontColor(){\n    this._ec('styleWithCSS', false, true)\n    this._ec('foreColor', false, 'rgba(255, 0, 0, 0.3)');\n  }\n  fontColorReset(){\n    this._ec('styleWithCSS', false, true)\n    this._ec('foreColor', false, '000000');\n  }\n  // outdent: -> @_ec(\"outdent\", false)\n  // paste: -> @_ec(\"paste\", false)\n  // redo: -> @_ec(\"redo\", false)\n  // removeFormat: -> @_ec(\"removeFormat\", false)\n  // selectAll: -> @_ec(\"selectAll\", false)\n  // strikeThrough: -> @_ec(\"strikeThrough\", false)\n  // subscript: -> @_ec(\"subscript\", false)\n  // superscript: -> @_ec(\"superscript\", false)\n  // underline: -> @_ec(\"underline\", false)\n  // undo: -> @_ec(\"undo\", false)\n  // unlink: -> @_ec(\"unlink\", false)\n  // styleWithCSS: (style) -> @_ec(\"styleWithCSS\", false, style)\n\n  // contentReadOnly: -> @_notImplemented()\n  // enableInlineTableEditing: -> @_notImplemented()\n  // enableObjectResizing: -> @_notImplemented()\n  // insertBrOnReturn: -> @_notImplemented()\n  // useCSS: -> @_notImplemented()\n  _ec(...args) {\n    document.execCommand(...args);\n    return this;\n  }\n  _notImplemented() {\n    throw new Error(\"Not implemented\");\n  }\n}\n\nexport default editorApi;\n"],"sourceRoot":""}