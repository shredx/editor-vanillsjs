{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/editor/editor.js","webpack:///./src/index.js","webpack:///./src/plugins/registry.js","webpack:///./src/store/events.js","webpack:///./src/utils/editor/editor-api.js"],"names":["Editor","editorNode","config","event","dispatchEvent","methods","onChange","method","args","console","log","runPlugins","plugin","Object","getOwnPropertyNames","plugins","_editor","editorApi","toolbarOptions","bold","status","image","name","callback","focusEditor","document","getSelection","focusNode","mount","events","subscribe","parentNode","createElement","contentEditableNode","toolbar","contentEditable","addEventListener","onInputChange","options","func","opt","push","innerHTML","srcElement","dataset","appendChild","node","getElementById","editor","value","emojiTransformPlugin","topics","hOP","hasOwnProperty","topic","listener","call","index","remove","publish","info","forEach","item","undefined","focus","componentKey","props","replacePlaceholder","insertHTML","tag","color","_ec","html","selectInsertion","execCommand","Error"],"mappings":"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","file":"js/main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","import editorApi from \"../utils/editor/editor-api\";\nimport plugins from \"../plugins/registry\";\nimport events from \"../store/events\";\n\n\n\nclass Editor {\n\n  constructor(editorNode, config) {\n    this._editor = new editorApi(editorNode);\n    \n    this.toolbarOptions = this.toolbarOptions;\n    this.toolbarOptions = {\n      bold: {\n        status: true,\n        image: '',\n        name: 'B',\n        callback: () => {\n          console.log (\"bold called\");\n          this._editor.focusEditor();\n          console.log(document.getSelection().focusNode);\n          this._editor.bold();\n        }\n      }\n    }\n\n    this.mount(editorNode);\n    events.subscribe(\"changed\", () => {\n      console.log (\"content changed\")\n    })\n    this.methods = {};\n    this.methods.onChange= config.onChange; \n  }\n\n  mount (editorNode) {\n    const parentNode = document.createElement('div');\n    const contentEditableNode = document.createElement('div');\n    const toolbar = document.createElement('div');\n    contentEditableNode.contentEditable = true;\n    contentEditableNode.addEventListener('input', this.onInputChange, false);\n\n    const options = [];\n    for (let func in this.toolbarOptions) {\n      if (this.toolbarOptions[func].status) {\n        const opt = this.toolbarOptions[func];\n        options.push(`<li data-name=\"${func}\">${opt.name}</li>`)\n      }\n    }\n    toolbar.innerHTML = `<ul style=\"list-style:none\">\n      ${options}\n    </ul>\n    `;\n\n    toolbar.addEventListener(\"click\", (event) => {\n      console.log (\"clicked \", event.srcElement.dataset.name);\n      this.toolbarOptions[event.srcElement.dataset.name].callback();\n\n    },false);\n\n    parentNode.appendChild(contentEditableNode);\n    parentNode.appendChild(toolbar);\n\n    editorNode.appendChild(parentNode);\n\n  }\n  /**\n   * input event is fired when something in an input \n   * or textarea element has changes and it's also fired\n   *  when something has changed in elements with\n   *  contenteditable attribute. Perfect!} value \n   */\n  onInputChange = (event) => {\n    //console.log(event.target.innerHTML);\n    // run plugins\n    this.dispatchEvent(\"onContentChanged\", event);\n    // call props method \n    this.methods.onChange(event);\n  }\n\n  dispatchEvent = (method, args) => {\n    console.log (method, \" method fired\");\n    this.runPlugins(method, args);\n  }\n\n  runPlugins  = (method, args) => {\n    for (let plugin in Object.getOwnPropertyNames(plugins)) {\n      if (plugin[method]) {\n        plugin[method](args);\n      }\n    }\n  }\n\n}\n\nexport default Editor;","import Editor from \"./editor/editor\";\n\nconst node = document.getElementById(\"local-editor\");\nconst editor = new Editor(node, {\n  onChange: function (value) {\n    console.log(value);\n  }\n});\n\n// mount the editor on root node\n","export default {\n  emojiTransformPlugin: {}\n}","const events = (function(){\n  var topics = {};\n  var hOP = topics.hasOwnProperty;\n\n  return {\n    subscribe: function(topic, listener) {\n      // Create the topic's object if not yet created\n      if(!hOP.call(topics, topic)) topics[topic] = [];\n\n      // Add the listener to queue\n      var index = topics[topic].push(listener) -1;\n\n      // Provide handle back for removal of topic\n      return {\n        remove: function() {\n          delete topics[topic][index];\n        }\n      };\n    },\n    publish: function(topic, info) {\n      // If the topic doesn't exist, or there's no listeners in queue, just leave\n      if(!hOP.call(topics, topic)) return;\n\n      // Cycle through topics queue, fire!\n      topics[topic].forEach(function(item) {\n      \t\titem(info != undefined ? info : {});\n      });\n    }\n  };\n})();\n\nexport default events;","class editorApi {\n  constructor(node) { \n    this.editorNode = node;\n  }\n\n  focusEditor () {\n    this.editorNode.focus();\n  }\n\n  insertCustomTag (componentKey, props = {}) {\n    const replacePlaceholder = props.replacePlaceholder || false;\n    this.insertHTML(props.tag)\n  }\n\nbackColor (color) { this._ec(\"backColor\", false, color);};\n\nbold(){ this._ec(\"bold\", false)}\n// copy: -> @_ec(\"copy\", false)\n// createLink: (uri) -> @_ec(\"createLink\", false, uri)\n// cut: -> @_ec(\"cut\", false)\n// decreaseFontSize: -> @_ec(\"decreaseFontSize\", false)\n// delete: -> @_ec(\"delete\", false)\n// fontName: (fontName) -> @_ec(\"fontName\", false, fontName)\n// fontSize: (fontSize) -> @_ec(\"fontSize\", false, fontSize)\n// foreColor: (color) -> @_ec(\"foreColor\", false, color)\n// formatBlock: (tagName) -> @_ec(\"formatBlock\", false, tagName)\n// forwardDelete: -> @_ec(\"forwardDelete\", false)\n// heading: (tagName) -> @_ec(\"heading\", false, tagName)\n// hiliteColor: (color) -> @_ec(\"hiliteColor\", false, color)\n// increaseFontSize: -> @_ec(\"increaseFontSize\", false)\n// indent: -> @_ec(\"indent\", false)\n// insertHorizontalRule: -> @_ec(\"insertHorizontalRule\", false)\n\ninsertHTML (html, {selectInsertion} = {}) {\n    this._ec(\"insertHTML\", false, html);\n}\n\n// insertImage: (uri) -> @_ec(\"insertImage\", false, uri)\n// insertOrderedList: -> @_ec(\"insertOrderedList\", false)\n// insertUnorderedList: -> @_ec(\"insertUnorderedList\", false)\n// insertParagraph: -> @_ec(\"insertParagraph\", false)\n// insertText: (text) -> @_ec(\"insertText\", false, text)\n// italic: -> @_ec(\"italic\", false)\n// justifyCenter: -> @_ec(\"justifyCenter\", false)\n// justifyFull: -> @_ec(\"justifyFull\", false)\n// justifyLeft: -> @_ec(\"justifyLeft\", false)\n// justifyRight: -> @_ec(\"justifyRight\", false)\n// outdent: -> @_ec(\"outdent\", false)\n// paste: -> @_ec(\"paste\", false)\n// redo: -> @_ec(\"redo\", false)\n// removeFormat: -> @_ec(\"removeFormat\", false)\n// selectAll: -> @_ec(\"selectAll\", false)\n// strikeThrough: -> @_ec(\"strikeThrough\", false)\n// subscript: -> @_ec(\"subscript\", false)\n// superscript: -> @_ec(\"superscript\", false)\n// underline: -> @_ec(\"underline\", false)\n// undo: -> @_ec(\"undo\", false)\n// unlink: -> @_ec(\"unlink\", false)\n// styleWithCSS: (style) -> @_ec(\"styleWithCSS\", false, style)\n\n// contentReadOnly: -> @_notImplemented()\n// enableInlineTableEditing: -> @_notImplemented()\n// enableObjectResizing: -> @_notImplemented()\n// insertBrOnReturn: -> @_notImplemented()\n// useCSS: -> @_notImplemented()\n_ec (...args) { document.execCommand(...args); return this;}\n_notImplemented() {throw new Error(\"Not implemented\");}\n\n  \n}\n\nexport default editorApi;"],"sourceRoot":""}